<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üåê Node.js Runtime | Nuxt I18n Micro</title>
    <meta name="description" content="Fast, simple, and lightweight i18n for Nuxt">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/nuxt-i18n-micro/assets/style.DtvpTVMZ.css" as="style">
    <link rel="preload stylesheet" href="/nuxt-i18n-micro/vp-icons.css" as="style">
    
    <script type="module" src="/nuxt-i18n-micro/assets/app.B1AiM1Ux.js"></script>
    <link rel="modulepreload" href="/nuxt-i18n-micro/assets/chunks/mermaid.BRpTWv4c.js">
    <link rel="modulepreload" href="/nuxt-i18n-micro/assets/chunks/folder-tree.CZUAZcGr.js">
    <link rel="modulepreload" href="/nuxt-i18n-micro/assets/chunks/chartjs.CT3i_C7A.js">
    <link rel="modulepreload" href="/nuxt-i18n-micro/assets/chunks/plugin-vue_export-helper.DlAUqK2U.js">
    <link rel="modulepreload" href="/nuxt-i18n-micro/assets/chunks/VPLocalSearchBox.DqvdlUwc.js">
    <link rel="modulepreload" href="/nuxt-i18n-micro/assets/integrations_nodejs-package.md.CJMNvG-x.lean.js">
    <link rel="dns-prefetch" href="https://github.com">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-06f44b18><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f4f1512a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f4f1512a>Skip to content</a><!--]--><!----><header class="VPNav" data-v-06f44b18 data-v-d909d03a><div class="VPNavBar" data-v-d909d03a data-v-3ecaf7b2><div class="wrapper" data-v-3ecaf7b2><div class="container" data-v-3ecaf7b2><div class="title" data-v-3ecaf7b2><div class="VPNavBarTitle has-sidebar" data-v-3ecaf7b2 data-v-4f52de92><a class="title" href="/nuxt-i18n-micro/" data-v-4f52de92><!--[--><!--]--><!----><span data-v-4f52de92>Nuxt I18n Micro</span><!--[--><!--]--></a></div></div><div class="content" data-v-3ecaf7b2><div class="content-body" data-v-3ecaf7b2><!--[--><!--]--><div class="VPNavBarSearch search" data-v-3ecaf7b2><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-3ecaf7b2 data-v-62d5e139><span id="main-nav-aria-label" class="visually-hidden" data-v-62d5e139> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nuxt-i18n-micro/" tabindex="0" data-v-62d5e139 data-v-f1fd6b99><!--[--><span data-v-f1fd6b99>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nuxt-i18n-micro/news" tabindex="0" data-v-62d5e139 data-v-f1fd6b99><!--[--><span data-v-f1fd6b99>News</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-62d5e139 data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40fd1e7e><span class="text" data-v-40fd1e7e><!----><span data-v-40fd1e7e>Integrations</span><span class="vpi-chevron-down text-icon" data-v-40fd1e7e></span></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><div class="items" data-v-5cd13fed><!--[--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/" data-v-8998616b><!--[--><span data-v-8998616b>Overview</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/vue-package" data-v-8998616b><!--[--><span data-v-8998616b>Vue Package</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/react-package" data-v-8998616b><!--[--><span data-v-8998616b>React Package</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/preact-package" data-v-8998616b><!--[--><span data-v-8998616b>Preact Package</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/solid-package" data-v-8998616b><!--[--><span data-v-8998616b>Solid Package</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/astro-package" data-v-8998616b><!--[--><span data-v-8998616b>Astro Package</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link active" href="/nuxt-i18n-micro/integrations/nodejs-package" data-v-8998616b><!--[--><span data-v-8998616b>Node.js Package</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/types-generator" data-v-8998616b><!--[--><span data-v-8998616b>Types Generator</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/integrations/devtools-ui-package" data-v-8998616b><!--[--><span data-v-8998616b>Devtools Package</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-62d5e139 data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40fd1e7e><span class="text" data-v-40fd1e7e><!----><span data-v-40fd1e7e>Guide</span><span class="vpi-chevron-down text-icon" data-v-40fd1e7e></span></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><div class="items" data-v-5cd13fed><!--[--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/getting-started" data-v-8998616b><!--[--><span data-v-8998616b>Getting Started</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/using" data-v-8998616b><!--[--><span data-v-8998616b>Using</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/firebase" data-v-8998616b><!--[--><span data-v-8998616b>Firebase Deployment</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/performance" data-v-8998616b><!--[--><span data-v-8998616b>Performance</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/performance-results" data-v-8998616b><!--[--><span data-v-8998616b>Performance Test Results</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/folder-structure" data-v-8998616b><!--[--><span data-v-8998616b>Folder Structure</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/layers" data-v-8998616b><!--[--><span data-v-8998616b>Layers</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/seo" data-v-8998616b><!--[--><span data-v-8998616b>SEO</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/migration" data-v-8998616b><!--[--><span data-v-8998616b>Migration from nuxt-i18n</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/v3-upgrade" data-v-8998616b><!--[--><span data-v-8998616b>Upgrade to v3</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/contribution" data-v-8998616b><!--[--><span data-v-8998616b>Contribution</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/multi-domain-locales" data-v-8998616b><!--[--><span data-v-8998616b>Multi Domain Locales</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/custom-locale-routes" data-v-8998616b><!--[--><span data-v-8998616b>Custom Localized Routes</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/per-component-translations" data-v-8998616b><!--[--><span data-v-8998616b>Per Component Translations</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/crowdin" data-v-8998616b><!--[--><span data-v-8998616b>Crowdin Integration</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/faq" data-v-8998616b><!--[--><span data-v-8998616b>FAQ</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/server-side-translations" data-v-8998616b><!--[--><span data-v-8998616b>Server Side Translations</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/strategy" data-v-8998616b><!--[--><span data-v-8998616b>Strategy</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/devtools" data-v-8998616b><!--[--><span data-v-8998616b>DevTools</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/testing" data-v-8998616b><!--[--><span data-v-8998616b>Testing</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/storybook" data-v-8998616b><!--[--><span data-v-8998616b>Storybook</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/custom-auto-detect" data-v-8998616b><!--[--><span data-v-8998616b>Custom Auto Detect</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/excluding-static-files" data-v-8998616b><!--[--><span data-v-8998616b>Excluding Static Files</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/guide/cli" data-v-8998616b><!--[--><span data-v-8998616b>CLI Tool</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-62d5e139 data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40fd1e7e><span class="text" data-v-40fd1e7e><!----><span data-v-40fd1e7e>API</span><span class="vpi-chevron-down text-icon" data-v-40fd1e7e></span></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><div class="items" data-v-5cd13fed><!--[--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/api/methods" data-v-8998616b><!--[--><span data-v-8998616b>Methods</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/api/events" data-v-8998616b><!--[--><span data-v-8998616b>Events</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/api/i18n-cache-api" data-v-8998616b><!--[--><span data-v-8998616b>Translations and Cache</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nuxt-i18n-micro/examples" tabindex="0" data-v-62d5e139 data-v-f1fd6b99><!--[--><span data-v-f1fd6b99>Examples</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-62d5e139 data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40fd1e7e><span class="text" data-v-40fd1e7e><!----><span data-v-40fd1e7e>Components</span><span class="vpi-chevron-down text-icon" data-v-40fd1e7e></span></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><div class="items" data-v-5cd13fed><!--[--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/components/i18n-t" data-v-8998616b><!--[--><span data-v-8998616b>i18n-t</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/components/i18n-switcher" data-v-8998616b><!--[--><span data-v-8998616b>i18n-switcher</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/components/i18n-link" data-v-8998616b><!--[--><span data-v-8998616b>i18n-link</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/components/i18n-group" data-v-8998616b><!--[--><span data-v-8998616b>i18n-group</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-62d5e139 data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40fd1e7e><span class="text" data-v-40fd1e7e><!----><span data-v-40fd1e7e>Composables</span><span class="vpi-chevron-down text-icon" data-v-40fd1e7e></span></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><div class="items" data-v-5cd13fed><!--[--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/composables/useI18n" data-v-8998616b><!--[--><span data-v-8998616b>useI18n</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/composables/useLocaleHead" data-v-8998616b><!--[--><span data-v-8998616b>useLocaleHead</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link" href="/nuxt-i18n-micro/composables/useI18nLocale" data-v-8998616b><!--[--><span data-v-8998616b>useI18nLocale</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-62d5e139 data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40fd1e7e><span class="text" data-v-40fd1e7e><!----><span data-v-40fd1e7e>3.13.0</span><span class="vpi-chevron-down text-icon" data-v-40fd1e7e></span></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><div class="items" data-v-5cd13fed><!--[--><!--[--><div class="VPMenuLink" data-v-5cd13fed data-v-8998616b><a class="VPLink link vp-external-link-icon" href="https://github.com/s00d/nuxt-i18n-micro/blob/main/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-8998616b><!--[--><span data-v-8998616b>Changelog</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-3ecaf7b2 data-v-784c8d63><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-784c8d63 data-v-92222817 data-v-9abdc867><span class="check" data-v-9abdc867><span class="icon" data-v-9abdc867><!--[--><span class="vpi-sun sun" data-v-92222817></span><span class="vpi-moon moon" data-v-92222817></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-3ecaf7b2 data-v-2f262285 data-v-6999e9da><!--[--><a class="VPSocialLink no-icon" href="https://github.com/s00d/nuxt-i18n-micro" aria-label="github" target="_blank" rel="noopener" data-v-6999e9da data-v-2a074467><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-3ecaf7b2 data-v-0c9d49ea data-v-40fd1e7e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-40fd1e7e><span class="vpi-more-horizontal icon" data-v-40fd1e7e></span></button><div class="menu" data-v-40fd1e7e><div class="VPMenu" data-v-40fd1e7e data-v-5cd13fed><!----><!--[--><!--[--><!----><div class="group" data-v-0c9d49ea><div class="item appearance" data-v-0c9d49ea><p class="label" data-v-0c9d49ea>Appearance</p><div class="appearance-action" data-v-0c9d49ea><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-0c9d49ea data-v-92222817 data-v-9abdc867><span class="check" data-v-9abdc867><span class="icon" data-v-9abdc867><!--[--><span class="vpi-sun sun" data-v-92222817></span><span class="vpi-moon moon" data-v-92222817></span><!--]--></span></span></button></div></div></div><div class="group" data-v-0c9d49ea><div class="item social-links" data-v-0c9d49ea><div class="VPSocialLinks social-links-list" data-v-0c9d49ea data-v-6999e9da><!--[--><a class="VPSocialLink no-icon" href="https://github.com/s00d/nuxt-i18n-micro" aria-label="github" target="_blank" rel="noopener" data-v-6999e9da data-v-2a074467><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-3ecaf7b2 data-v-44d199b0><span class="container" data-v-44d199b0><span class="top" data-v-44d199b0></span><span class="middle" data-v-44d199b0></span><span class="bottom" data-v-44d199b0></span></span></button></div></div></div></div><div class="divider" data-v-3ecaf7b2><div class="divider-line" data-v-3ecaf7b2></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-06f44b18 data-v-3ac1ef2e><div class="container" data-v-3ac1ef2e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-3ac1ef2e><span class="vpi-align-left menu-icon" data-v-3ac1ef2e></span><span class="menu-text" data-v-3ac1ef2e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-3ac1ef2e data-v-2f2858e9><button data-v-2f2858e9>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-06f44b18 data-v-3fb4db45><div class="curtain" data-v-3fb4db45></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-3fb4db45><span class="visually-hidden" id="sidebar-aria-label" data-v-3fb4db45> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a9f24955><section class="VPSidebarItem level-0 has-active" data-v-a9f24955 data-v-8d3e5fa4><div class="item" role="button" tabindex="0" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><h2 class="text" data-v-8d3e5fa4>Integrations</h2><!----></div><div class="items" data-v-8d3e5fa4><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/vue-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Vue Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/react-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>React Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/preact-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Preact Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/solid-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Solid Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/astro-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Astro Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/nodejs-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Node.js Package</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/types-generator" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Types Generator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8d3e5fa4 data-v-8d3e5fa4><div class="item" data-v-8d3e5fa4><div class="indicator" data-v-8d3e5fa4></div><a class="VPLink link link" href="/nuxt-i18n-micro/integrations/devtools-ui-package" data-v-8d3e5fa4><!--[--><p class="text" data-v-8d3e5fa4>Devtools Package</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-06f44b18 data-v-a7dce14c><div class="VPDoc has-sidebar has-aside" data-v-a7dce14c data-v-da397302><!--[--><!--]--><div class="container" data-v-da397302><div class="aside" data-v-da397302><div class="aside-curtain" data-v-da397302></div><div class="aside-container" data-v-da397302><div class="aside-content" data-v-da397302><div class="VPDocAside" data-v-da397302 data-v-607e75f1><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-607e75f1 data-v-6d2b7b48><div class="content" data-v-6d2b7b48><div class="outline-marker" data-v-6d2b7b48></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-6d2b7b48>On this page</div><ul class="VPDocOutlineItem root" data-v-6d2b7b48 data-v-06d96e21><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-607e75f1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-da397302><div class="content-container" data-v-da397302><!--[--><!--]--><main class="main" data-v-da397302><div style="position:relative;" class="vp-doc _nuxt-i18n-micro_integrations_nodejs-package" data-v-da397302><div><h1 id="üåê-node-js-runtime" tabindex="-1">üåê Node.js Runtime <a class="header-anchor" href="#üåê-node-js-runtime" aria-label="Permalink to &quot;üåê Node.js Runtime&quot;">‚Äã</a></h1><p>Use <code>@i18n-micro/node</code> to add i18n translations to any Node.js application, CLI tool, or backend service. This package provides the same translation logic as the Nuxt module, but for pure Node.js environments.</p><h2 id="üì¶-installation" tabindex="-1">üì¶ Installation <a class="header-anchor" href="#üì¶-installation" aria-label="Permalink to &quot;üì¶ Installation&quot;">‚Äã</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @i18n-micro/node</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @i18n-micro/node</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @i18n-micro/node</span></span></code></pre></div><h2 id="üöÄ-quick-start" tabindex="-1">üöÄ Quick Start <a class="header-anchor" href="#üöÄ-quick-start" aria-label="Permalink to &quot;üöÄ Quick Start&quot;">‚Äã</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Create I18n instance</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fallbackLocale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Path to your locales directory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. Load translations from directory</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. Use translations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Hello, John!&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;5 apples&quot;</span></span></code></pre></div><h2 id="üìÇ-translation-file-structure" tabindex="-1">üìÇ Translation File Structure <a class="header-anchor" href="#üìÇ-translation-file-structure" aria-label="Permalink to &quot;üìÇ Translation File Structure&quot;">‚Äã</a></h2><p>The package supports the same file structure as the Nuxt module:</p><div class="vft-tree vft-container"><div tabindex="0" class="vft-focus-wrap"><div class="vft-toolbar"><button class="vft-btn" title="Expand all"><svg class="vft-btn-icon" viewBox="0 0 16 16" fill="none" width="14" height="14"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><button class="vft-btn" title="Collapse all"><svg class="vft-btn-icon" viewBox="0 0 16 16" fill="none" width="14" height="14"><path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><span class="vft-sep"></span><button class="vft-btn" title="Copy"><svg class="vft-btn-icon" viewBox="0 0 16 16" fill="none" width="14" height="14"><rect x="5" y="5" width="8" height="8" rx="1" stroke="currentColor" stroke-width="1.3"></rect><path d="M3 11V3a1 1 0 011-1h8" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"></path></svg></button><button class="vft-btn" title="Copy shell script"><svg class="vft-btn-icon" viewBox="0 0 16 16" fill="none" width="14" height="14"><path d="M2 3l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 13h6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button><span class="vft-sep"></span><button class="vft-btn-text" title="Download .txt">.txt</button><button class="vft-btn-text" title="Download .yaml">.yml</button><button class="vft-btn-text" title="Download .json">.json</button><div class="vft-search-wrap"><svg class="vft-search-icon" viewBox="0 0 16 16" fill="none" width="12" height="12"><circle cx="6.5" cy="6.5" r="4" stroke="currentColor" stroke-width="1.3"></circle><path d="M10 10l3.5 3.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"></path></svg><input value class="vft-search-input" type="text" placeholder="Filter..."><!----></div></div><!----><ul class="vft-tree-list" role="tree"><!--[--><li><div><div class="vft-row is-pointer" data-path="locales" tabindex="-1" role="treeitem" aria-expanded="false"><!----><svg class="vft-chevron" viewBox="0 0 16 16" fill="none"><path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M3 6a2 2 0 012-2h4.172a2 2 0 011.414.586L12 6h7a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V6z" class="vft-folder-closed" stroke-width="1"></path></svg><!----><span class="vft-folder-name"><!--[-->locales<!--]--></span><!----><span class="vft-badge">1 folder, 2 files</span><!----></div><div class="vft-collapse"><div class="vft-collapse-inner"><div class="vft-branch-group" style="margin-left:0;"><span class="vft-guide" style="left:13px;"></span><ul class="vft-children-list"><!--[--><li><div class="vft-row" data-path="locales/en.json" tabindex="-1" role="none"><span class="vft-indent" style="width:16px;"></span><span class="vft-spacer"></span><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" class="vft-ficon-teal-body" stroke-width="1"></path><path d="M14 2v6h6" class="vft-ficon-teal-fold" stroke-width="1" stroke-linejoin="round"></path><text x="12" y="17" text-anchor="middle" font-size="5" font-weight="700" font-family="system-ui,sans-serif" class="vft-ficon-teal-label">JSON</text></svg><!----><span class="vft-file-name"><!--[-->en.json<!--]--></span><!----><!----><!----></div></li><li><div class="vft-row" data-path="locales/de.json" tabindex="-1" role="none"><span class="vft-indent" style="width:16px;"></span><span class="vft-spacer"></span><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" class="vft-ficon-teal-body" stroke-width="1"></path><path d="M14 2v6h6" class="vft-ficon-teal-fold" stroke-width="1" stroke-linejoin="round"></path><text x="12" y="17" text-anchor="middle" font-size="5" font-weight="700" font-family="system-ui,sans-serif" class="vft-ficon-teal-label">JSON</text></svg><!----><span class="vft-file-name"><!--[-->de.json<!--]--></span><!----><!----><!----></div></li><li><div><div class="vft-row is-pointer" data-path="locales/pages" tabindex="-1" role="treeitem" aria-expanded="false"><span class="vft-indent" style="width:16px;"></span><svg class="vft-chevron" viewBox="0 0 16 16" fill="none"><path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M3 6a2 2 0 012-2h4.172a2 2 0 011.414.586L12 6h7a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V6z" class="vft-folder-closed" stroke-width="1"></path></svg><!----><span class="vft-folder-name"><!--[-->pages<!--]--></span><!----><span class="vft-badge">2 folders</span><!----></div><div class="vft-collapse"><div class="vft-collapse-inner"><div class="vft-branch-group" style="margin-left:0;"><span class="vft-guide" style="left:29px;"></span><ul class="vft-children-list"><!--[--><li><div><div class="vft-row is-pointer" data-path="locales/pages/home" tabindex="-1" role="treeitem" aria-expanded="false"><span class="vft-indent" style="width:32px;"></span><svg class="vft-chevron" viewBox="0 0 16 16" fill="none"><path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M3 6a2 2 0 012-2h4.172a2 2 0 011.414.586L12 6h7a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V6z" class="vft-folder-closed" stroke-width="1"></path></svg><!----><span class="vft-folder-name"><!--[-->home<!--]--></span><!----><span class="vft-badge">2 files</span><!----></div><div class="vft-collapse"><div class="vft-collapse-inner"><div class="vft-branch-group" style="margin-left:0;"><span class="vft-guide" style="left:45px;"></span><ul class="vft-children-list"><!--[--><li><div class="vft-row" data-path="locales/pages/home/en.json" tabindex="-1" role="none"><span class="vft-indent" style="width:48px;"></span><span class="vft-spacer"></span><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" class="vft-ficon-teal-body" stroke-width="1"></path><path d="M14 2v6h6" class="vft-ficon-teal-fold" stroke-width="1" stroke-linejoin="round"></path><text x="12" y="17" text-anchor="middle" font-size="5" font-weight="700" font-family="system-ui,sans-serif" class="vft-ficon-teal-label">JSON</text></svg><!----><span class="vft-file-name"><!--[-->en.json<!--]--></span><!----><!----><!----></div></li><li><div class="vft-row" data-path="locales/pages/home/de.json" tabindex="-1" role="none"><span class="vft-indent" style="width:48px;"></span><span class="vft-spacer"></span><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" class="vft-ficon-teal-body" stroke-width="1"></path><path d="M14 2v6h6" class="vft-ficon-teal-fold" stroke-width="1" stroke-linejoin="round"></path><text x="12" y="17" text-anchor="middle" font-size="5" font-weight="700" font-family="system-ui,sans-serif" class="vft-ficon-teal-label">JSON</text></svg><!----><span class="vft-file-name"><!--[-->de.json<!--]--></span><!----><!----><!----></div></li><!--]--></ul></div></div></div></div></li><li><div><div class="vft-row is-pointer" data-path="locales/pages/about" tabindex="-1" role="treeitem" aria-expanded="false"><span class="vft-indent" style="width:32px;"></span><svg class="vft-chevron" viewBox="0 0 16 16" fill="none"><path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M3 6a2 2 0 012-2h4.172a2 2 0 011.414.586L12 6h7a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V6z" class="vft-folder-closed" stroke-width="1"></path></svg><!----><span class="vft-folder-name"><!--[-->about<!--]--></span><!----><span class="vft-badge">2 files</span><!----></div><div class="vft-collapse"><div class="vft-collapse-inner"><div class="vft-branch-group" style="margin-left:0;"><span class="vft-guide" style="left:45px;"></span><ul class="vft-children-list"><!--[--><li><div class="vft-row" data-path="locales/pages/about/en.json" tabindex="-1" role="none"><span class="vft-indent" style="width:48px;"></span><span class="vft-spacer"></span><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" class="vft-ficon-teal-body" stroke-width="1"></path><path d="M14 2v6h6" class="vft-ficon-teal-fold" stroke-width="1" stroke-linejoin="round"></path><text x="12" y="17" text-anchor="middle" font-size="5" font-weight="700" font-family="system-ui,sans-serif" class="vft-ficon-teal-label">JSON</text></svg><!----><span class="vft-file-name"><!--[-->en.json<!--]--></span><!----><!----><!----></div></li><li><div class="vft-row" data-path="locales/pages/about/de.json" tabindex="-1" role="none"><span class="vft-indent" style="width:48px;"></span><span class="vft-spacer"></span><svg class="vft-icon" viewBox="0 0 24 24" fill="none"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" class="vft-ficon-teal-body" stroke-width="1"></path><path d="M14 2v6h6" class="vft-ficon-teal-fold" stroke-width="1" stroke-linejoin="round"></path><text x="12" y="17" text-anchor="middle" font-size="5" font-weight="700" font-family="system-ui,sans-serif" class="vft-ficon-teal-label">JSON</text></svg><!----><span class="vft-file-name"><!--[-->de.json<!--]--></span><!----><!----><!----></div></li><!--]--></ul></div></div></div></div></li><!--]--></ul></div></div></div></div></li><!--]--></ul></div></div></div></div></li><!--]--></ul><!----><div class="vft-footer"><svg class="vft-btn-icon" viewBox="0 0 24 24" fill="none" width="12" height="12"><path d="M3 6a2 2 0 012-2h4.172a2 2 0 011.414.586L12 6h7a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V6z" fill="currentColor" opacity="0.35"></path></svg> 4 folders <span class="vft-footer-dot">¬∑</span><svg class="vft-btn-icon" viewBox="0 0 24 24" fill="none" width="12" height="12"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" fill="currentColor" opacity="0.35"></path><path d="M14 2v6h6" stroke="currentColor" opacity="0.35" stroke-width="1"></path></svg> 6 files</div><!----><!----></div></div><h2 id="üîß-api-reference" tabindex="-1">üîß API Reference <a class="header-anchor" href="#üîß-api-reference" aria-label="Permalink to &quot;üîß API Reference&quot;">‚Äã</a></h2><h3 id="createi18n-options-i18noptions-i18n" tabindex="-1"><code>createI18n(options: I18nOptions): I18n</code> <a class="header-anchor" href="#createi18n-options-i18noptions-i18n" aria-label="Permalink to &quot;`createI18n(options: I18nOptions): I18n`&quot;">‚Äã</a></h3><p>Creates a new I18n instance.</p><p><strong>Options:</strong></p><ul><li><code>locale: string</code> - Current locale</li><li><code>fallbackLocale?: string</code> - Fallback locale (default: same as locale)</li><li><code>translationDir?: string</code> - Path to locales directory</li><li><code>plural?: PluralFunc</code> - Custom pluralization function</li><li><code>missingWarn?: boolean</code> - Show warnings for missing translations</li><li><code>missingHandler?: (locale: string, key: string, routeName: string) =&gt; void</code> - Custom handler</li></ul><h3 id="i18n-loadtranslations-dir-string-promise-void" tabindex="-1"><code>i18n.loadTranslations(dir?: string): Promise&lt;void&gt;</code> <a class="header-anchor" href="#i18n-loadtranslations-dir-string-promise-void" aria-label="Permalink to &quot;`i18n.loadTranslations(dir?: string): Promise&lt;void&gt;`&quot;">‚Äã</a></h3><p>Load translations from directory (recursive, supports pages structure).</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Uses translationDir from constructor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./custom-locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Or specify custom path</span></span></code></pre></div><h3 id="i18n-t-key-string-params-params-defaultvalue-string-null-routename-string-string" tabindex="-1"><code>i18n.t(key: string, params?: Params, defaultValue?: string | null, routeName?: string): string</code> <a class="header-anchor" href="#i18n-t-key-string-params-params-defaultvalue-string-null-routename-string-string" aria-label="Permalink to &quot;`i18n.t(key: string, params?: Params, defaultValue?: string | null, routeName?: string): string`&quot;">‚Äã</a></h3><p>Get translation for a key. Uses <code>currentRoute</code> by default if <code>routeName</code> is not provided.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Hello, John!&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Welcome&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;nested.key&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Supports nested keys</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Route-specific translation</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// With currentRoute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Uses &#39;home&#39; route automatically</span></span></code></pre></div><h3 id="i18n-setroute-routename-string-void" tabindex="-1"><code>i18n.setRoute(routeName: string): void</code> <a class="header-anchor" href="#i18n-setroute-routename-string-void" aria-label="Permalink to &quot;`i18n.setRoute(routeName: string): void`&quot;">‚Äã</a></h3><p>Set the current route name context. Useful when processing a specific page request.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Set current route to &#39;home&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Will look for translation in &#39;home&#39; route</span></span></code></pre></div><h3 id="i18n-tc-key-string-count-number-params-defaultvalue-string-string" tabindex="-1"><code>i18n.tc(key: string, count: number | Params, defaultValue?: string): string</code> <a class="header-anchor" href="#i18n-tc-key-string-count-number-params-defaultvalue-string-string" aria-label="Permalink to &quot;`i18n.tc(key: string, count: number | Params, defaultValue?: string): string`&quot;">‚Äã</a></h3><p>Plural translation.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Translation: &quot;no apples|one apple|{count} apples&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;no apples&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;one apple&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;5 apples&quot;</span></span></code></pre></div><h3 id="i18n-tn-value-number-options-intl-numberformatoptions-string" tabindex="-1"><code>i18n.tn(value: number, options?: Intl.NumberFormatOptions): string</code> <a class="header-anchor" href="#i18n-tn-value-number-options-intl-numberformatoptions-string" aria-label="Permalink to &quot;`i18n.tn(value: number, options?: Intl.NumberFormatOptions): string`&quot;">‚Äã</a></h3><p>Format number.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1234.56</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;1,234.56&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1234.56</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { style: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;currency&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, currency: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;USD&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;$1,234.56&quot;</span></span></code></pre></div><h3 id="i18n-td-value-date-number-string-options-intl-datetimeformatoptions-string" tabindex="-1"><code>i18n.td(value: Date | number | string, options?: Intl.DateTimeFormatOptions): string</code> <a class="header-anchor" href="#i18n-td-value-date-number-string-options-intl-datetimeformatoptions-string" aria-label="Permalink to &quot;`i18n.td(value: Date | number | string, options?: Intl.DateTimeFormatOptions): string`&quot;">‚Äã</a></h3><p>Format date.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">td</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;1/15/2023&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">td</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), { year: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;numeric&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, month: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;long&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, day: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;numeric&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;January 15, 2023&quot;</span></span></code></pre></div><h3 id="i18n-tdr-value-date-number-string-options-intl-relativetimeformatoptions-string" tabindex="-1"><code>i18n.tdr(value: Date | number | string, options?: Intl.RelativeTimeFormatOptions): string</code> <a class="header-anchor" href="#i18n-tdr-value-date-number-string-options-intl-relativetimeformatoptions-string" aria-label="Permalink to &quot;`i18n.tdr(value: Date | number | string, options?: Intl.RelativeTimeFormatOptions): string`&quot;">‚Äã</a></h3><p>Format relative time.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3600000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;1 hour ago&quot;</span></span></code></pre></div><h3 id="i18n-reload-promise-void" tabindex="-1"><code>i18n.reload(): Promise&lt;void&gt;</code> <a class="header-anchor" href="#i18n-reload-promise-void" aria-label="Permalink to &quot;`i18n.reload(): Promise&lt;void&gt;`&quot;">‚Äã</a></h3><p>Clear cache and reload translations from disk. Use this when translation files change.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Clears cache and reloads all files</span></span></code></pre></div><h2 id="üí°-usage-examples" tabindex="-1">üí° Usage Examples <a class="header-anchor" href="#üí°-usage-examples" aria-label="Permalink to &quot;üí° Usage Examples&quot;">‚Äã</a></h2><h3 id="express-js-middleware" tabindex="-1">Express.js Middleware <a class="header-anchor" href="#express-js-middleware" aria-label="Permalink to &quot;Express.js Middleware&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> express </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;express&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> express</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create I18n instance and load translations once at startup</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Middleware to set locale and route per request</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;accept-language&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;,&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Boolean)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;index&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> locale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(route)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  req.i18n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/greet&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ message: req.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="fastify-plugin" tabindex="-1">Fastify Plugin <a class="header-anchor" href="#fastify-plugin" aria-label="Permalink to &quot;Fastify Plugin&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Fastify </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fastify&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fastify</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Fastify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create I18n instance</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Plugin to add i18n to request</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fastify.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addHook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;onRequest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;accept-language&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;,&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> locale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  request.i18n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fastify.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/greet&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { message: request.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="hot-module-replacement-hmr-with-file-watcher" tabindex="-1">Hot Module Replacement (HMR) with File Watcher <a class="header-anchor" href="#hot-module-replacement-hmr-with-file-watcher" aria-label="Permalink to &quot;Hot Module Replacement (HMR) with File Watcher&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { watch } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create I18n instance</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Initial load</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Simple file watcher (Node.js built-in, no dependencies needed)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reloadTimeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NodeJS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Timeout</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { recursive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eventType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (filename </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filename.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">endsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Debounce to avoid multiple reloads when saving one file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    clearTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reloadTimeout)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    reloadTimeout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`File changed: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}, reloading...`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Clears cache and reloads all files</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Now i18n.t() will always return fresh data after file changes</span></span></code></pre></div><h3 id="cli-tool" tabindex="-1">CLI Tool <a class="header-anchor" href="#cli-tool" aria-label="Permalink to &quot;CLI Tool&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locale: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LOCALE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;items&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="üîÑ-using-currentroute" tabindex="-1">üîÑ Using currentRoute <a class="header-anchor" href="#üîÑ-using-currentroute" aria-label="Permalink to &quot;üîÑ Using currentRoute&quot;">‚Äã</a></h2><p>The <code>currentRoute</code> feature allows you to set a route context that will be used by default in all <code>t()</code> calls:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Set route context</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Now t() will automatically use &#39;home&#39; route</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Looks in &#39;home&#39; route translations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Base translation (from index, merged into route)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Can still override with explicit routeName</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Uses &#39;about&#39; route</span></span></code></pre></div><h2 id="üéØ-key-features" tabindex="-1">üéØ Key Features <a class="header-anchor" href="#üéØ-key-features" aria-label="Permalink to &quot;üéØ Key Features&quot;">‚Äã</a></h2><ul><li>üöÄ <strong>Lightweight</strong> - No Vue dependencies, pure Node.js</li><li>üì¶ <strong>Same JSON structure</strong> - Use the same translation files as your Nuxt app</li><li>üîÑ <strong>Route-specific translations</strong> - Support for page-level translations</li><li>üåç <strong>Pluralization</strong> - Built-in plural form support</li><li>üìÖ <strong>Formatting</strong> - Number, date, and relative time formatting</li><li>‚ö° <strong>Fast</strong> - Efficient in-memory caching</li><li>üîß <strong>Type-safe</strong> - Full TypeScript support</li><li>üîÑ <strong>Hot Reload</strong> - Built-in support for file watching and cache reloading</li></ul><h2 id="üåç-using-in-nuxt-server-routes" tabindex="-1">üåç Using in Nuxt Server Routes <a class="header-anchor" href="#üåç-using-in-nuxt-server-routes" aria-label="Permalink to &quot;üåç Using in Nuxt Server Routes&quot;">‚Äã</a></h2><p>You can use <code>@i18n-micro/node</code> in Nuxt server API routes to provide server-side translations:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineEventHandler, getQuery } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;h3&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { join } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:path&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create a singleton I18n instance (in production, you&#39;d want to cache this)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18nInstance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i18nInstance) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Get locales directory path (relative to playground root)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> localesPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(process.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cwd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;playground&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    i18nInstance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      fallbackLocale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      translationDir: localesPath,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18nInstance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineEventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.route </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;index&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Set locale and route for this request</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> locale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(route)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Load translations (required after setting route)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Demonstrate various translation methods</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locale: i18n.locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    route: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    translations: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Simple translation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      welcome: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Translation with interpolation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      greeting: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Node.js User&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Nested key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      nested: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;nested.message&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Pluralization</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      apples: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        zero: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        one: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        many: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;apples&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Number formatting</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      number: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1234.56</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Date formatting</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      date: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">td</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Relative time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      relativeTime: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3600000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Route-specific translation (if available)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      routeSpecific: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, route),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Show available methods</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    methods: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      hasTranslation: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasTranslation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      currentRoute: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      currentLocale: i18n.locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="üìã-locale-detection" tabindex="-1">üìã Locale Detection <a class="header-anchor" href="#üìã-locale-detection" aria-label="Permalink to &quot;üìã Locale Detection&quot;">‚Äã</a></h2><p>You can implement custom locale detection logic based on your needs:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { IncomingMessage } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;http&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> detectLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IncomingMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 1. Check URL parameters: ?locale=ru</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(req.url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`http://${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">req</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> localeFromQuery</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.searchParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;locale&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (localeFromQuery) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> localeFromQuery</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 2. Check cookies: user-locale cookie</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cookies</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.headers.cookie </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> localeFromCookie</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cookies</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trim</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user-locale=&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;=&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (localeFromCookie) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> localeFromCookie</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 3. Check HTTP Headers: Accept-Language</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> acceptLanguage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;accept-language&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (acceptLanguage) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> preferredLocale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> acceptLanguage.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;,&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;-&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preferredLocale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 4. Fallback to default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="üìã-advanced-usage-examples" tabindex="-1">üìã Advanced Usage Examples <a class="header-anchor" href="#üìã-advanced-usage-examples" aria-label="Permalink to &quot;üìã Advanced Usage Examples&quot;">‚Äã</a></h2><h3 id="conditional-response-based-on-locale" tabindex="-1">Conditional Response Based on Locale <a class="header-anchor" href="#conditional-response-based-on-locale" aria-label="Permalink to &quot;Conditional Response Based on Locale&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> locale</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Return different content based on locale</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ru&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      message: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;–ú–∏—Ä&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      locale: locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;de&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      message: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Welt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      locale: locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Default English response</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    message: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greeting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locale: locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="locale-aware-api-with-validation" tabindex="-1">Locale-Aware API with Validation <a class="header-anchor" href="#locale-aware-api-with-validation" aria-label="Permalink to &quot;Locale-Aware API with Validation&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineEventHandler, getQuery, createError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;h3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fallbackLocale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> availableLocales</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ru&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;de&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineEventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (query.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Validate if the detected locale is supported</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">availableLocales.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(locale)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      statusCode: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      statusMessage: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Unsupported locale: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}. Available locales: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">availableLocales</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;, &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> locale</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Return locale-specific configuration</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locale: locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    message: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    availableLocales: availableLocales,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="integration-with-route-specific-translations" tabindex="-1">Integration with Route-Specific Translations <a class="header-anchor" href="#integration-with-route-specific-translations" aria-label="Permalink to &quot;Integration with Route-Specific Translations&quot;">‚Äã</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createI18n } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@i18n-micro/node&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineEventHandler, getQuery } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;h3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> i18n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createI18n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  locale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;en&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  translationDir: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./locales&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineEventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (query.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (query.route </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;index&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Set locale and route for this request</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.locale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> locale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(route)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Load translations (required after setting route)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTranslations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locale: i18n.locale,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    route: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Route-specific translation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Base translation (from index, merged into route)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    welcome: i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="üìù-best-practices" tabindex="-1">üìù Best Practices <a class="header-anchor" href="#üìù-best-practices" aria-label="Permalink to &quot;üìù Best Practices&quot;">‚Äã</a></h2><ol><li><strong>Always validate locales</strong>: Check if the detected locale is in your available locales list</li><li><strong>Use fallback logic</strong>: Provide sensible defaults when locale detection fails</li><li><strong>Cache I18n instance</strong>: Create a singleton instance and reuse it across requests for better performance</li><li><strong>Handle edge cases</strong>: Account for unsupported locales and provide appropriate error responses</li><li><strong>Use route context</strong>: Set <code>currentRoute</code> to automatically use route-specific translations</li><li><strong>Reload on file changes</strong>: Use <code>reload()</code> method with file watchers in development for hot-reloading</li></ol><h2 id="üöÄ-performance-considerations" tabindex="-1">üöÄ Performance Considerations <a class="header-anchor" href="#üöÄ-performance-considerations" aria-label="Permalink to &quot;üöÄ Performance Considerations&quot;">‚Äã</a></h2><ul><li><strong>Singleton pattern</strong>: Create one I18n instance and reuse it across requests</li><li><strong>Lazy loading</strong>: Load translations once at startup, not on every request</li><li><strong>Efficient caching</strong>: Translations are cached in memory for fast access</li><li><strong>Route context</strong>: Use <code>setRoute()</code> to avoid passing route name to every <code>t()</code> call</li><li><strong>No external calls</strong>: All translations are loaded from local files, no network requests</li></ul><h2 id="üìö-related-documentation" tabindex="-1">üìö Related Documentation <a class="header-anchor" href="#üìö-related-documentation" aria-label="Permalink to &quot;üìö Related Documentation&quot;">‚Äã</a></h2><ul><li><strong><a href="./../guide/folder-structure">Folder Structure</a></strong> - Learn about translation file organization</li><li><strong><a href="./../guide/server-side-translations">Server Side Translations</a></strong> - Nuxt server-side usage</li><li><strong><a href="./../api/methods">API Reference</a></strong> - Complete method documentation</li></ul></div></div></main><footer class="VPDocFooter" data-v-da397302 data-v-4026ab0e><!--[--><!--]--><div class="edit-info" data-v-4026ab0e><div class="edit-link" data-v-4026ab0e><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/s00d/nuxt-i18n-micro/edit/main/docs/integrations/nodejs-package.md" target="_blank" rel="noreferrer" data-v-4026ab0e><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4026ab0e></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-4026ab0e><p class="VPLastUpdated" data-v-4026ab0e data-v-e6eca6e0>Last updated: <time datetime="2026-02-13T09:44:13.000Z" data-v-e6eca6e0></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4026ab0e><span class="visually-hidden" id="doc-footer-aria-label" data-v-4026ab0e>Pager</span><div class="pager" data-v-4026ab0e><a class="VPLink link pager-link prev" href="/nuxt-i18n-micro/integrations/astro-package" data-v-4026ab0e><!--[--><span class="desc" data-v-4026ab0e>Previous page</span><span class="title" data-v-4026ab0e>Astro Package</span><!--]--></a></div><div class="pager" data-v-4026ab0e><a class="VPLink link pager-link next" href="/nuxt-i18n-micro/integrations/types-generator" data-v-4026ab0e><!--[--><span class="desc" data-v-4026ab0e>Next page</span><span class="title" data-v-4026ab0e>Types Generator</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-06f44b18 data-v-22cacccb><div class="container" data-v-22cacccb><p class="message" data-v-22cacccb>Released under the MIT License.</p><!----></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_events.md\":\"Dl8m_2CL\",\"api_i18n-cache-api.md\":\"aCzMsJSr\",\"api_index.md\":\"C_muYejN\",\"api_methods.md\":\"OOr2OVhC\",\"components_i18n-group.md\":\"BqUEaHqj\",\"components_i18n-link.md\":\"nY9gsxtm\",\"components_i18n-switcher.md\":\"O-jWsmnR\",\"components_i18n-t.md\":\"Bp16V_8R\",\"components_index.md\":\"CyrzrLE7\",\"composables_index.md\":\"Ddvx99EF\",\"composables_usei18n.md\":\"CQV4fwU_\",\"composables_usei18nlocale.md\":\"Cjt3NTV0\",\"composables_uselocalehead.md\":\"DYyWbYZY\",\"examples.md\":\"1XCz-ATM\",\"guide_cli.md\":\"Bk7WXCSG\",\"guide_contribution.md\":\"DhaeqxtK\",\"guide_crowdin.md\":\"DyP3FmTM\",\"guide_custom-auto-detect.md\":\"CL-rDqOP\",\"guide_custom-locale-routes.md\":\"Drsd8fqk\",\"guide_devtools.md\":\"C1M19M6x\",\"guide_excluding-static-files.md\":\"m0kdd4iM\",\"guide_faq.md\":\"BQF29A-g\",\"guide_firebase.md\":\"CD3XaIHi\",\"guide_folder-structure.md\":\"CbUaMD11\",\"guide_getting-started.md\":\"BOQZbqEK\",\"guide_layers.md\":\"BZEAFXJx\",\"guide_migration.md\":\"BGQfuXUv\",\"guide_multi-domain-locales.md\":\"BlCMq8ju\",\"guide_per-component-translations.md\":\"-uaj2efo\",\"guide_performance-results.md\":\"B7YKO9Gq\",\"guide_performance.md\":\"ti5_g--1\",\"guide_seo.md\":\"CpFIIHu1\",\"guide_server-side-translations.md\":\"BKvbuPf9\",\"guide_storybook.md\":\"z_sYkkjt\",\"guide_strategy.md\":\"BiitQOvc\",\"guide_testing.md\":\"CatYpwNI\",\"guide_using.md\":\"D2lkqazd\",\"guide_v3-upgrade.md\":\"Bv0WcGJX\",\"index.md\":\"DAXCarYu\",\"integrations_astro-package.md\":\"CHSCCP1o\",\"integrations_devtools-ui-package.md\":\"BG6KDODv\",\"integrations_index.md\":\"CAXSEG2L\",\"integrations_nodejs-package.md\":\"CJMNvG-x\",\"integrations_preact-package.md\":\"CzkJuO9c\",\"integrations_react-package.md\":\"tp-PrIDJ\",\"integrations_solid-package.md\":\"Dx9_u2Ye\",\"integrations_types-generator.md\":\"CkhWTrmV\",\"integrations_vue-package.md\":\"CjvGS9VK\",\"news_index.md\":\"DJOI9MwD\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Nuxt I18n Micro\",\"description\":\"Fast, simple, and lightweight i18n for Nuxt\",\"base\":\"/nuxt-i18n-micro/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"News\",\"link\":\"/news\"},{\"text\":\"Integrations\",\"items\":[{\"text\":\"Overview\",\"link\":\"/integrations/\"},{\"text\":\"Vue Package\",\"link\":\"/integrations/vue-package\"},{\"text\":\"React Package\",\"link\":\"/integrations/react-package\"},{\"text\":\"Preact Package\",\"link\":\"/integrations/preact-package\"},{\"text\":\"Solid Package\",\"link\":\"/integrations/solid-package\"},{\"text\":\"Astro Package\",\"link\":\"/integrations/astro-package\"},{\"text\":\"Node.js Package\",\"link\":\"/integrations/nodejs-package\"},{\"text\":\"Types Generator\",\"link\":\"/integrations/types-generator\"},{\"text\":\"Devtools Package\",\"link\":\"/integrations/devtools-ui-package\"}]},{\"text\":\"Guide\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Using\",\"link\":\"/guide/using\"},{\"text\":\"Firebase Deployment\",\"link\":\"/guide/firebase\"},{\"text\":\"Performance\",\"link\":\"/guide/performance\"},{\"text\":\"Performance Test Results\",\"link\":\"/guide/performance-results\"},{\"text\":\"Folder Structure\",\"link\":\"/guide/folder-structure\"},{\"text\":\"Layers\",\"link\":\"/guide/layers\"},{\"text\":\"SEO\",\"link\":\"/guide/seo\"},{\"text\":\"Migration from nuxt-i18n\",\"link\":\"/guide/migration\"},{\"text\":\"Upgrade to v3\",\"link\":\"/guide/v3-upgrade\"},{\"text\":\"Contribution\",\"link\":\"/guide/contribution\"},{\"text\":\"Multi Domain Locales\",\"link\":\"/guide/multi-domain-locales\"},{\"text\":\"Custom Localized Routes\",\"link\":\"/guide/custom-locale-routes\"},{\"text\":\"Per Component Translations\",\"link\":\"/guide/per-component-translations\"},{\"text\":\"Crowdin Integration\",\"link\":\"/guide/crowdin\"},{\"text\":\"FAQ\",\"link\":\"/guide/faq\"},{\"text\":\"Server Side Translations\",\"link\":\"/guide/server-side-translations\"},{\"text\":\"Strategy\",\"link\":\"/guide/strategy\"},{\"text\":\"DevTools\",\"link\":\"/guide/devtools\"},{\"text\":\"Testing\",\"link\":\"/guide/testing\"},{\"text\":\"Storybook\",\"link\":\"/guide/storybook\"},{\"text\":\"Custom Auto Detect\",\"link\":\"/guide/custom-auto-detect\"},{\"text\":\"Excluding Static Files\",\"link\":\"/guide/excluding-static-files\"},{\"text\":\"CLI Tool\",\"link\":\"/guide/cli\"}]},{\"text\":\"API\",\"items\":[{\"text\":\"Methods\",\"link\":\"/api/methods\"},{\"text\":\"Events\",\"link\":\"/api/events\"},{\"text\":\"Translations and Cache\",\"link\":\"/api/i18n-cache-api\"}]},{\"text\":\"Examples\",\"link\":\"/examples\"},{\"text\":\"Components\",\"items\":[{\"text\":\"i18n-t\",\"link\":\"/components/i18n-t\"},{\"text\":\"i18n-switcher\",\"link\":\"/components/i18n-switcher\"},{\"text\":\"i18n-link\",\"link\":\"/components/i18n-link\"},{\"text\":\"i18n-group\",\"link\":\"/components/i18n-group\"}]},{\"text\":\"Composables\",\"items\":[{\"text\":\"useI18n\",\"link\":\"/composables/useI18n\"},{\"text\":\"useLocaleHead\",\"link\":\"/composables/useLocaleHead\"},{\"text\":\"useI18nLocale\",\"link\":\"/composables/useI18nLocale\"}]},{\"text\":\"3.13.0\",\"items\":[{\"text\":\"Changelog\",\"link\":\"https://github.com/s00d/nuxt-i18n-micro/blob/main/CHANGELOG.md\"}]}],\"editLink\":{\"pattern\":\"https://github.com/s00d/nuxt-i18n-micro/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"footer\":{\"message\":\"Released under the MIT License.\"},\"sidebar\":{\"/integrations/\":[{\"text\":\"Integrations\",\"base\":\"/integrations\",\"items\":[{\"text\":\"Overview\",\"link\":\"/\"},{\"text\":\"Vue Package\",\"link\":\"/vue-package\"},{\"text\":\"React Package\",\"link\":\"/react-package\"},{\"text\":\"Preact Package\",\"link\":\"/preact-package\"},{\"text\":\"Solid Package\",\"link\":\"/solid-package\"},{\"text\":\"Astro Package\",\"link\":\"/astro-package\"},{\"text\":\"Node.js Package\",\"link\":\"/nodejs-package\"},{\"text\":\"Types Generator\",\"link\":\"/types-generator\"},{\"text\":\"Devtools Package\",\"link\":\"/devtools-ui-package\"}]}],\"/guide/\":[{\"text\":\"Guide\",\"base\":\"/guide\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/getting-started\"},{\"text\":\"Using\",\"link\":\"/using\"},{\"text\":\"Firebase Deployment\",\"link\":\"/firebase\"},{\"text\":\"Performance\",\"link\":\"/performance\"},{\"text\":\"Performance Test Results\",\"link\":\"/performance-results\"},{\"text\":\"Folder Structure\",\"link\":\"/folder-structure\"},{\"text\":\"Layers\",\"link\":\"/layers\"},{\"text\":\"Seo\",\"link\":\"/seo\"},{\"text\":\"Migration from nuxt-i18n\",\"link\":\"/migration\"},{\"text\":\"Upgrade to v3\",\"link\":\"/v3-upgrade\"},{\"text\":\"Contribution\",\"link\":\"/contribution\"},{\"text\":\"Multi Domain Locales\",\"link\":\"/multi-domain-locales\"},{\"text\":\"Custom Localized Routes\",\"link\":\"/custom-locale-routes\"},{\"text\":\"Per Component Translations\",\"link\":\"/per-component-translations\"},{\"text\":\"Crowdin Integration\",\"link\":\"/crowdin\"},{\"text\":\"FAQ\",\"link\":\"/faq\"},{\"text\":\"Server Side Translations\",\"link\":\"/server-side-translations\"},{\"text\":\"Strategy\",\"link\":\"/strategy\"},{\"text\":\"DevTools\",\"link\":\"/devtools\"},{\"text\":\"Testing\",\"link\":\"/testing\"},{\"text\":\"Storybook\",\"link\":\"/storybook\"},{\"text\":\"Custom Auto Detect\",\"link\":\"/custom-auto-detect\"},{\"text\":\"Excluding Static Files\",\"link\":\"/excluding-static-files\"},{\"text\":\"CLI Tool\",\"link\":\"/cli\"}]}],\"/api/\":[{\"text\":\"API\",\"base\":\"/api\",\"items\":[{\"text\":\"Methods\",\"link\":\"/methods\"},{\"text\":\"Events\",\"link\":\"/events\"},{\"text\":\"Translations and Cache\",\"link\":\"/api/i18n-cache-api\"}]}],\"/components/\":[{\"text\":\"Components\",\"base\":\"/components\",\"items\":[{\"text\":\"i18n-t Component\",\"link\":\"/i18n-t\"},{\"text\":\"ii18n-switcher Component\",\"link\":\"/i18n-switcher\"},{\"text\":\"i18n-link Component\",\"link\":\"/i18n-link\"},{\"text\":\"i18n-group Component\",\"link\":\"/i18n-group\"}]}],\"/composables/\":[{\"text\":\"Composables\",\"base\":\"/composables\",\"items\":[{\"text\":\"useI18n\",\"link\":\"/useI18n\"},{\"text\":\"useLocaleHead\",\"link\":\"/useLocaleHead\"},{\"text\":\"useI18nLocale\",\"link\":\"/useI18nLocale\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/s00d/nuxt-i18n-micro\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>